module.exports = 'attribute float pickingId;\n #ifdef polyline\n attribute float a_size;\n attribute float a_miter;\n#endif \n#ifdef point\nattribute vec3 a_size;\nattribute vec3 a_shape;\n#endif\nuniform float u_zoom;\nvarying vec4 worldId;\nvoid main() {\n    mat4 matModelViewProjection = projectionMatrix * modelViewMatrix;\n    float scale = pow(2.0,(20.0 - u_zoom));\n    vec3 newposition =  position;\n    #ifdef point \n        newposition =position + a_size * scale * a_shape;\n    #endif\n    #ifdef polyline\n      newposition = position.xyz + vec3(normal * a_size * pow(2.0,20.0-u_zoom) / 2.0 * a_miter);\n     #endif \n    float id = step(0.,pickingId) * pickingId;\n    vec3 a = fract(vec3(1.0/255.0, 1.0/(255.0*255.0), 1.0/(255.0*255.0*255.0)) * id);\n    a -= a.xxy * vec3(0.0, 1.0/255.0, 1.0/255.0);\n    worldId = vec4(a,1);\n    //gl_PointSize = a_size;\n    gl_Position = matModelViewProjection * vec4( newposition, 1.0 );\n}';